var $urlLogin="/v1/administrators/actions/login",$urlGetCaptcha="/v1/captcha/LOGIN-CAPTCHA",$urlCheckCaptcha="/v1/captcha/LOGIN-CAPTCHA/actions/check";window.top!=self&&(window.top.location=self.location);var data={pageLoad:!1,pageSubmit:!1,pageAlert:null,account:null,password:null,isAutoLogin:!1,captcha:null,captchaUrl:null},methods={reload:function(){this.pageLoad=!0,this.captcha="",this.pageSubmit=!1,this.captchaUrl=apiUrl+$urlGetCaptcha+"?r="+(new Date).getTime()},checkCaptcha:function(){var t=this;utils.loading(!0),$api.post($urlCheckCaptcha,{captcha:t.captcha}).then(function(a){t.login()}).catch(function(a){utils.loading(!1),t.reload(),t.pageAlert=utils.getPageAlert(a)})},login:function(){var t=this;$api.post($urlLogin,{account:t.account,password:md5(t.password),isAutoLogin:t.isAutoLogin}).then(function(a){t.redirect()}).catch(function(a){t.pageAlert=utils.getPageAlert(a)}).then(function(){utils.loading(!1),t.reload()})},redirect:function(){location.href="pageInitialization.aspx"},btnLoginClick:function(t){t.preventDefault(),this.pageSubmit=!0,this.pageAlert=null,this.account&&this.password&&this.captcha&&this.checkCaptcha()}},$vue=new Vue({el:"#main",data:data,directives:{focus:{inserted:function(t){t.focus()}}},methods:methods,created:function(){this.reload()}});