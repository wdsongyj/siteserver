var HTMLMixedParser=Editor.Parser=function(){if(!(CSSParser&&JSParser&&XMLParser))throw new Error("CSS, JS, and XML parsers must be loaded for HTML mixed mode to work.");return XMLParser.configure({useHTMLKludges:!0}),{make:function(e){var n=XMLParser.make(e),r=null,t=!1,a={next:o,copy:function(){var o=n.copy(),i=r&&r.copy(),u=a.next,s=t;return function(l){return e=l,n=o(l),r=i&&i(l),a.next=u,t=s,a}}};function o(){var e=n.next();return"<"==e.content?t=!0:"xml-tagname"==e.style&&!0===t?t=e.content.toLowerCase():">"==e.content&&("script"==t?a.next=i(JSParser,"</script"):"style"==t&&(a.next=i(CSSParser,"</style")),t=!1),e}function i(t,i){var u=n.indentation();return r=t.make(e,u+indentUnit),function(){if(e.lookAhead(i,!1,!1,!0))return r=null,a.next=o,o();var n=r.next(),t=n.value.lastIndexOf("<"),s=Math.min(n.value.length-t,i.length);if(-1!=t&&n.value.slice(t,t+s).toLowerCase()==i.slice(0,s)&&e.lookAhead(i.slice(s),!1,!1,!0)&&(e.push(n.value.slice(t)),n.value=n.value.slice(0,t)),n.indentation){var l=n.indentation;n.indentation=function(e){return"</"==e?u:l(e)}}return n}}return a},electricChars:"{}/:"}}();