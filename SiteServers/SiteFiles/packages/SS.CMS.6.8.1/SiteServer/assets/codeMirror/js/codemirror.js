var CodeMirrorConfig=window.CodeMirrorConfig||{},CodeMirror=function(){function e(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function t(e,t){for(var n=0;n<e.length;n++)t(e[n])}function n(n,i){i.dumbTabs?i.tabMode="spaces":i.normalTab&&(i.tabMode="default"),this.options=i=i||{},e(i,CodeMirrorConfig);var o=this.frame=document.createElement("IFRAME");if(i.iframeClass&&(o.className=i.iframeClass),o.frameBorder=0,o.src="javascript:false;",o.style.border="0",o.style.width=i.width,o.style.height=i.height,o.style.display="block",n.appendChild){var r=n;n=function(e){r.appendChild(e)}}i.lineNumbers&&(n=function(e){return function(t,n){var i=document.createElement("DIV"),o=document.createElement("DIV"),r=document.createElement("DIV");if(n&&(i.id=n),i.style.position="relative",o.style.position="absolute",o.style.height="100%",o.style.setExpression)try{o.style.setExpression("height","this.previousSibling.offsetHeight + 'px'")}catch(e){}o.style.top="0px",o.style.overflow="hidden",e(i),i.appendChild(t),i.appendChild(o),r.className="CodeMirror-line-numbers",o.appendChild(r)}}(n)),n(o,i.containerID),o.CodeMirror=this,this.win=o.contentWindow,"string"==typeof i.parserfile&&(i.parserfile=[i.parserfile]),"string"==typeof i.stylesheet&&(i.stylesheet=[i.stylesheet]);var s=['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>'];t(i.stylesheet,function(e){s.push('<link rel="stylesheet" type="text/css" href="'+e+'"/>')}),t(i.basefiles.concat(i.parserfile),function(e){s.push('<script type="text/javascript" src="'+i.path+e+'"><\/script>')}),s.push('</head><body style="border-width: 0;" class="editbox" spellcheck="'+(i.disableSpellcheck?"false":"true")+'"></body></html>');var l=this.win.document;l.open(),l.write(s.join("")),l.close()}return e(CodeMirrorConfig,{stylesheet:"",path:"",parserfile:[],basefiles:["util.js","stringstream.js","select.js","undo.js","editor.js","tokenize.js"],iframeClass:null,passDelay:200,passTime:50,continuousScanning:!1,saveFunction:null,onChange:null,undoDepth:50,undoDelay:800,disableSpellcheck:!0,textWrapping:!0,readOnly:!1,width:"100%",height:"300px",autoMatchParens:!1,parserConfig:null,tabMode:"indent",reindentOnLoad:!1,activeTokens:null,cursorActivity:null,lineNumbers:!1,indentUnit:2}),n.prototype={init:function(){this.options.initCallback&&this.options.initCallback(this),this.options.lineNumbers&&function(e){var t=e.contentWindow,n=t.document,i=e.nextSibling,o=i.firstChild,r=1,s=null;function l(){i.offsetWidth!=s&&(s=i.offsetWidth,i.style.left="-"+(e.parentNode.style.marginLeft=s+"px"))}function a(){for(var t=20+Math.max(n.body.offsetHeight,e.offsetHeight)-o.offsetHeight,s=Math.ceil(t/10);s>0;s--){var l=document.createElement("DIV");l.appendChild(document.createTextNode(r++)),o.appendChild(l)}i.scrollTop=n.body.scrollTop||n.documentElement.scrollTop||0}l(),a(),t.addEventHandler(t,"scroll",a),setInterval(l,500)}(this.frame),this.options.reindentOnLoad&&this.reindent()},toggleWrapping:function(){this.editor.toggleWrapping()},getCode:function(){return this.editor.getCode()},setCode:function(e){this.editor.importCode(e)},selection:function(){return this.editor.selectedText()},reindent:function(){this.editor.reindent()},reindentSelection:function(){this.editor.reindentSelection(null)},focus:function(){this.win.focus(),this.editor.selectionSnapshot&&this.win.select.selectCoords(this.win,this.editor.selectionSnapshot)},replaceSelection:function(e){return this.focus(),this.editor.replaceSelection(e),!0},replaceChars:function(e,t,n){this.editor.replaceChars(e,t,n)},getSearchCursor:function(e,t){return this.editor.getSearchCursor(e,t)},undo:function(){this.editor.history.undo()},redo:function(){this.editor.history.redo()},historySize:function(){return this.editor.history.historySize()},clearHistory:function(){this.editor.history.clear()},grabKeys:function(e,t){this.editor.grabKeys(e,t)},ungrabKeys:function(){this.editor.ungrabKeys()},setParser:function(e){this.editor.setParser(e)},cursorPosition:function(e){return this.win.select.ie_selection&&this.focus(),this.editor.cursorPosition(e)},firstLine:function(){return this.editor.firstLine()},lastLine:function(){return this.editor.lastLine()},nextLine:function(e){return this.editor.nextLine(e)},prevLine:function(e){return this.editor.prevLine(e)},lineContent:function(e){return this.editor.lineContent(e)},setLineContent:function(e,t){this.editor.setLineContent(e,t)},insertIntoLine:function(e,t,n){this.editor.insertIntoLine(e,t,n)},selectLines:function(e,t,n,i){this.win.focus(),this.editor.selectLines(e,t,n,i)},nthLine:function(e){for(var t=this.firstLine();e>1&&!1!==t;e--)t=this.nextLine(t);return t},lineNumber:function(e){for(var t=0;!1!==e;)t++,e=this.prevLine(e);return t},jumpToLine:function(e){this.selectLines(this.nthLine(e),0),this.win.focus()},currentLine:function(){return this.lineNumber(this.cursorPosition().line)}},n.InvalidLineHandle={toString:function(){return"CodeMirror.InvalidLineHandle"}},n.replace=function(e){return"string"==typeof e&&(e=document.getElementById(e)),function(t){e.parentNode.replaceChild(t,e)}},n.fromTextArea=function(e,t){if("string"==typeof e&&(e=document.getElementById(e)),t=t||{},e.style.width&&null==t.width&&(t.width=e.style.width),e.style.height&&null==t.height&&(t.height=e.style.height),null==t.content&&(t.content=e.value),e.form){function i(){e.value=o.getCode()}"function"==typeof e.form.addEventListener?e.form.addEventListener("submit",i,!1):e.form.attachEvent("onsubmit",i)}e.style.display="none";var o=new n(function(t){e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},t);return o},n.isProbablySupported=function(){var e;return window.opera?Number(window.opera.version())>=9.52:/Apple Computers, Inc/.test(navigator.vendor)&&(e=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)?)\./))?Number(e[1])>=3:document.selection&&window.ActiveXObject&&(e=navigator.userAgent.match(/MSIE (\d+(?:\.\d*)?)\b/))?Number(e[1])>=6:(e=navigator.userAgent.match(/gecko\/(\d{8})/i))?Number(e[1])>=20050901:(e=navigator.userAgent.match(/AppleWebKit\/(\d+)/))?Number(e[1])>=525:null},n}();