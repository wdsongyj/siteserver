var $url="/pages/plugins/add",data={pageLoad:!1,pageAlert:null,isNightly:null,pluginVersion:null,packageIds:null,q:utils.getQueryString("q"),keyword:utils.getQueryString("q")||"",packages:null},methods={getIconUrl:function(t){return"http://plugins.siteserver.cn/"+t},getTagNames:function(t){var e=[];return t.tags&&(e=t.tags.split(",")),e},load:function(){var t=this;$api.get($url).then(function(e){var a=e.data;t.isNightly=a.isNightly,t.pluginVersion=a.pluginVersion,t.packageIds=a.packageIds,$apiCloud.get("plugins",{params:{isNightly:t.isNightly,pluginVersion:t.pluginVersion,keyword:t.keyword}}).then(function(e){var a=e.data;t.packages=a.value}).catch(function(t){this.pageAlert=utils.getPageAlert(t)}).then(function(){t.pageLoad=!0})}).catch(function(e){t.pageAlert=utils.getPageAlert(e)}).then(function(){t.pageLoad=!0})},btnSearchClick:function(){location.href="?q="+this.keyword},btnUploadClick:function(){pageUtils.openLayer({title:"离线安装插件",url:"addLayerUpload.cshtml",full:!0})}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.load()}});