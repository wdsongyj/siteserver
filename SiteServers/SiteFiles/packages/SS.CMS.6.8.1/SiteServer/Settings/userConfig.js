var $api=new apiUtils.Api(apiUrl+"/pages/settings/userConfig"),data={pageLoad:!1,pageAlert:null,pageType:null,config:null,isUserRegistrationAllowed:null,isUserRegistrationChecked:null,isUserUnRegistrationAllowed:null,userPasswordMinLength:null,userPasswordRestriction:null,userRegistrationMinMinutes:null,isUserLockLogin:null,userLockLoginCount:null,userLockLoginType:null,userLockLoginHours:null,userFindPasswordSmsTplId:null},methods={getConfig:function(){var e=this;$api.get(null,function(s,i){!s&&i&&i.value&&(e.config=_.clone(i.value),e.isUserRegistrationAllowed=i.value.isUserRegistrationAllowed,e.isUserRegistrationChecked=i.value.isUserRegistrationChecked,e.isUserUnRegistrationAllowed=i.value.isUserUnRegistrationAllowed,e.userPasswordMinLength=i.value.userPasswordMinLength,e.userPasswordRestriction=i.value.userPasswordRestriction,e.userRegistrationMinMinutes=i.value.userRegistrationMinMinutes,e.isUserLockLogin=i.value.isUserLockLogin,e.userLockLoginCount=i.value.userLockLoginCount,e.userLockLoginType=i.value.userLockLoginType,e.userLockLoginHours=i.value.userLockLoginHours,e.userFindPasswordSmsTplId=i.value.userFindPasswordSmsTplId,e.pageType="list",e.pageLoad=!0)})},submit:function(e){var s=this;pageUtils.loading(!0),$api.post({isUserRegistrationAllowed:s.isUserRegistrationAllowed,isUserRegistrationChecked:s.isUserRegistrationChecked,isUserUnRegistrationAllowed:s.isUserUnRegistrationAllowed,userPasswordMinLength:s.userPasswordMinLength,userPasswordRestriction:s.userPasswordRestriction,userRegistrationMinMinutes:s.userRegistrationMinMinutes,isUserLockLogin:s.isUserLockLogin,userLockLoginCount:s.userLockLoginCount,userLockLoginType:s.userLockLoginType,userLockLoginHours:s.userLockLoginHours,userFindPasswordSmsTplId:s.userFindPasswordSmsTplId},function(e,i){pageUtils.loading(!1),e?s.pageAlert={type:"danger",html:e.message}:(s.pageAlert={type:"success",html:"用户设置保存成功！"},s.config=_.clone(i.value),s.pageType="list")})},getPasswordRestrictionText:function(e){return"LetterAndDigit"===e?"字母和数字组合":"LetterAndDigitAndSymbol"===e?"字母、数字以及符号组合":"不限制"},btnSubmitClick:function(){var e=this;this.$validator.validate().then(function(s){s&&e.submit(e.item)})}};new Vue({el:"#main",data:data,methods:methods,created:function(){this.getConfig()}});