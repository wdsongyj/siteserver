var $api=new apiUtils.Api(apiUrl+"/pages/cms/contentsLayerCheck"),data={siteId:parseInt(pageUtils.getQueryStringByName("siteId")),channelId:parseInt(pageUtils.getQueryStringByName("channelId")),contentIds:pageUtils.getQueryStringByName("contentIds"),pageLoad:!1,pageAlert:null,contents:null,description:"",checkedLevels:null,allChannels:null,channels:[],isChannelLoading:!1,checkedLevel:null,isTranslate:!1,translateChannel:null,reasons:null},methods={loadConfig:function(){var e=this;$api.get({siteId:e.siteId,channelId:e.channelId,contentIds:e.contentIds},function(n,t){!n&&t&&t.value&&(e.contents=t.value,e.checkedLevels=t.checkedLevels,e.checkedLevel=t.checkedLevel,e.channels=e.allChannels=t.allChannels,e.pageAlert={type:"warning",html:"此操作将审核以下 <strong>"+e.contents.length+"</strong> 篇内容，确定吗？"},e.pageLoad=!0)})},asyncFind:function(e){this.isChannelLoading=!0,this.channels=[];for(var n=0;n<this.allChannels.length;n++){var t=this.allChannels[n];-1!==t.value.indexOf(e)&&this.channels.push(t)}this.isChannelLoading=!1},btnSubmitClick:function(){pageUtils.loading(!0),$api.post({siteId:this.siteId,channelId:this.channelId,contentIds:this.contentIds,checkedLevel:this.checkedLevel,isTranslate:this.isTranslate,translateChannelId:this.translateChannel?this.translateChannel.key:0,reasons:this.reasons},function(e,n){!e&&n&&n.value&&parent.location.reload(!0)})}};Vue.component("multiselect",window.VueMultiselect.default),new Vue({el:"#main",data:data,methods:methods,created:function(){this.loadConfig()}});