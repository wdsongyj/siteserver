var $siteId=parseInt(pageUtils.getQueryStringByName("siteId")),$api=new apiUtils.Api(apiUrl+"/pages/cms/createStatus"),$apiCancel=new apiUtils.Api(apiUrl+"/pages/cms/createStatus/actions/cancel"),data={pageLoad:!1,pageAlert:null,pageType:null,siteId:$siteId,tasks:null,channelsCount:null,contentsCount:null,filesCount:null,specialsCount:null,timeoutId:null},methods={load:function(){var e=this;$api.get({siteId:e.siteId},function(t,a){e.timeoutId=setTimeout(function(){e.load()},3e3),!t&&a&&a.value&&(e.tasks=a.value.tasks,e.channelsCount=a.value.channelsCount,e.contentsCount=a.value.contentsCount,e.filesCount=a.value.filesCount,e.specialsCount=a.value.specialsCount,e.pageLoad=!0)})},getRedirectUrl:function(e){var t="../pageRedirect.aspx?siteId="+e.siteId;return e.channelId&&(t+="&channelId="+e.channelId),e.contentId&&(t+="&contentId="+e.contentId),e.fileTemplateId&&(t+="&fileTemplateId="+e.fileTemplateId),e.specialId&&(t+="&specialId="+e.specialId),t},btnCancelClick:function(){var e=this;clearTimeout(this.timeoutId),e.pageLoad=!1,$apiCancel.post({siteId:e.siteId},function(t,a){e.load()})}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.load()}});