var $api=new utils.Api("/home/contentsLayerCopy"),$apiChannels=new utils.Api("/home/contentsLayerCopy/actions/getChannels"),data={siteId:parseInt(utils.getQueryString("siteId")),channelId:parseInt(utils.getQueryString("channelId")),contentIds:utils.getQueryString("contentIds"),pageLoad:!1,pageAlert:null,contents:null,sites:[],channels:[],site:{},channel:null,copyType:"Copy",isSubmit:!1},methods={loadConfig:function(){var t=this;$api.get({siteId:t.siteId,channelId:t.channelId,contentIds:t.contentIds},function(e,n){!e&&n&&n.value&&(t.contents=n.value,t.sites=n.sites,t.channels=n.channels,t.site=n.site,t.pageLoad=!0)})},onSiteSelect(t){if(t.id!==this.site.id){this.site=t;var e=this;parent.utils.loading(!0),$apiChannels.get({siteId:this.site.id},function(t,n){parent.utils.loading(!1),!t&&n&&n.value&&(e.channels=n.value,e.channel=null)})}},onChannelSelect(t){this.channel=t},btnSubmitClick:function(){this.isSubmit=!0,this.channel&&(parent.utils.loading(!0),$api.post({siteId:this.siteId,channelId:this.channelId,contentIds:this.contentIds,targetSiteId:this.site.id,targetChannelId:this.channel.id},function(t,e){!t&&e&&e.value&&parent.location.reload(!0)}))}};Vue.component("multiselect",window.VueMultiselect.default),new Vue({el:"#main",data:data,methods:methods,created:function(){this.loadConfig()}});