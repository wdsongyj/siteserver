var $api=new apiUtils.Api(apiUrl+"/pages/settings/siteTables"),data={pageLoad:!1,pageAlert:null,pageType:null,tableNames:null,nameDict:null,tableName:null,columns:null,count:null},methods={getTables:function(){var e=this;$api.get(null,function(a,l){!a&&l&&l.value&&(e.tableNames=l.value,e.nameDict=l.nameDict,e.pageLoad=!0)})},btnColumnsClick:function(e){var a=this;pageUtils.loading(!0),$api.get(null,function(l,t){!l&&t&&t.value&&(a.pageType="columns",a.tableName=e,a.columns=t.value,a.count=t.count,pageUtils.loading(!1))},e)},btnCancelClick:function(){this.pageType="tables",this.tableName=null},btnRemoveCacheClick:function(){var e=this;pageUtils.loading(!0),$api.post(null,function(a,l){!a&&l&&l.value&&(e.pageType="columns",e.columns=l.value,e.count=l.count,pageUtils.loading(!1),e.pageAlert={type:"success",html:"内容表缓存清除成功！"})},e.tableName+"/actions/removeCache")}};new Vue({el:"#main",data:data,methods:methods,created:function(){this.getTables()}});