var SparqlParser=Editor.Parser=function(){function e(e){return new RegExp("^(?:"+e.join("|")+")$","i")}var t=e(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","union","a"]),n=e(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc"]),r=/[*+\-<>=&|]/,i=function(){function e(i,a){var s,u=i.next();if("$"==u||"?"==u)return i.nextWhileMatches(/[\w\d]/),"sp-var";if("<"!=u||i.matches(/[\s\u00a0=]/)){if('"'==u||"'"==u)return a((s=u,function(t,n){for(var r=!1;!t.endOfLine();){var i=t.next();if(i==s&&!r){n(e);break}r=!r&&"\\"==i}return"sp-literal"})),null;if(/[{}\(\),\.;\[\]]/.test(u))return"sp-punc";if("#"==u){for(;!i.endOfLine();)i.next();return"sp-comment"}if(r.test(u))return i.nextWhileMatches(r),"sp-operator";if(":"==u)return i.nextWhileMatches(/[\w\d\._\-]/),"sp-prefixed";if(i.nextWhileMatches(/[_\w\d]/),i.equals(":"))return i.next(),i.nextWhileMatches(/[\w\d_\-]/),"sp-prefixed";var p=i.get();return{style:t.test(p)?"sp-operator":n.test(p)?"sp-keyword":"sp-word",content:p}}return i.nextWhileMatches(/[^\s\u00a0>]/),i.equals(">")&&i.next(),"sp-uri"}return function(t,n){return tokenizer(t,n||e)}}();return{make:function(e){var t=i(e),n=null,r=0,a=0;function s(e,t){n={prev:n,indent:r,col:a,type:e,width:t}}function u(){n=n.prev}var p={next:function(){var e=t.next(),i=e.style,p=e.content,c=e.value.length;if("\n"==p?(e.indentation=function(e){return function(t){var n=t&&t.charAt(0);if(/[\]\}]/.test(n))for(;e&&"pattern"==e.type;)e=e.prev;var r=e&&n==matching[e.type];return e?"pattern"==e.type?e.col:e.align?e.col-(r?e.width:0):e.indent+(r?0:indentUnit):0}}(n),r=a=0,n&&null==n.align&&(n.align=!1)):"whitespace"==i&&0==a?r=c:"sp-comment"!=i&&n&&null==n.align&&(n.align=!0),"\n"!=p&&(a+=c),/[\[\{\(]/.test(p))s(p,c);else if(/[\]\}\)]/.test(p)){for(;n&&"pattern"==n.type;)u();n&&p==matching[n.type]&&u()}else"."==p&&n&&"pattern"==n.type?u():("sp-word"==i||"sp-prefixed"==i||"sp-uri"==i||"sp-var"==i||"sp-literal"==i)&&n&&/[\{\[]/.test(n.type)&&s("pattern",c);return e},copy:function(){var e=n,s=r,u=a,c=t.state;return function(l){return t=i(l,c),n=e,r=s,a=u,p}}};return p},electricChars:"}]"}}();