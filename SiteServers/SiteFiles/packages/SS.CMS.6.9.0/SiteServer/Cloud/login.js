var data={pageLoad:!1,pageSubmit:!1,pageAlert:null,account:null,password:null,isAutoLogin:!1,captcha:null,captchaUrl:null},methods={reload:function(){this.captcha="",this.pageSubmit=!1,this.captchaUrl=$urlCloud+$urlCaptchaGet+"?r="+(new Date).getTime(),this.pageLoad=!0},checkCaptcha:function(){var t=this;utils.loading(!0),$ssApi.post($urlCaptchaCheck,{captcha:t.captcha}).then(function(a){t.login()}).catch(function(a){t.pageAlert=utils.getPageAlert(a)}).then(function(){utils.loading(!1),t.reload()})},login:function(){var t=this;utils.loading(!0),$ssApi.post($urlLogin,{account:t.account,password:md5(t.password),isAutoLogin:t.isAutoLogin}).then(function(t){var a=t.data;ssUtils.setToken(a.accessToken,a.expiresAt),location.href=utils.getQueryString("returnUrl")||"settings.html"}).catch(function(a){t.pageAlert=utils.getPageAlert(a)}).then(function(){utils.loading(!1),t.reload()})},btnLoginClick:function(t){t.preventDefault(),this.pageSubmit=!0,this.pageAlert=null,this.account&&this.password&&this.captcha&&this.checkCaptcha()}};new Vue({el:"#main",data:data,directives:{focus:{inserted:function(t){t.focus()}}},methods:methods,created:function(){this.reload()}});